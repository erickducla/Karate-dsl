{"failedCount":2,"prefixedPath":"classpath:features\/books\/books.feature","packageQualifiedName":"features.books.books","loopIndex":-1,"relativePath":"features\/books\/books.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3852300,"startTime":1768171450487,"endTime":1768171450491,"millis":3.8523,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'https:\/\/bookstore.toolsqa.com'"},"stepLog":"19:44:10.188 karate.env system property was: null \n19:44:10.431 karate.env system property was: qa \n"},{"result":{"nanos":923200,"startTime":1768171450497,"endTime":1768171450498,"millis":0.9232,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":1,"text":"url baseUrl"}},{"result":{"nanos":4038272800,"startTime":1768171450499,"endTime":1768171454537,"millis":4038.2728,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def auth = callonce read('classpath:features\/users\/generate-token.feature')"},"stepLog":"19:44:14.521 << lock released, cached callonce: read('classpath:features\/users\/generate-token.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/users\/generate-token.feature","packageQualifiedName":"features.users.generate-token","loopIndex":-1,"relativePath":"features\/users\/generate-token.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":430400,"startTime":1768171450528,"endTime":1768171450528,"millis":0.4304,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'https:\/\/bookstore.toolsqa.com'"},"stepLog":"19:44:10.512 >> lock acquired, begin callonce: read('classpath:features\/users\/generate-token.feature')\n"},{"result":{"nanos":672800,"startTime":1768171450528,"endTime":1768171450529,"millis":0.6728,"status":"passed"},"step":{"comments":["# Criar usuário"],"line":9,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":817500,"startTime":1768171450529,"endTime":1768171450530,"millis":0.8175,"status":"passed"},"step":{"line":10,"prefix":"And","index":1,"text":"path 'Account\/v1\/User'"}},{"result":{"nanos":2435900,"startTime":1768171450530,"endTime":1768171450532,"millis":2.4359,"status":"passed"},"step":{"line":11,"prefix":"And","index":2,"text":"request read('classpath:features\/users\/usersData\/create-user.json')"}},{"result":{"nanos":2670793900,"startTime":1768171450533,"endTime":1768171453204,"millis":2670.7939,"status":"passed"},"step":{"line":12,"prefix":"When","index":3,"text":"method post"},"stepLog":"19:44:11.223 request:\n1 > POST https:\/\/bookstore.toolsqa.com\/Account\/v1\/User\n1 > cache-control: no-cache\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 50\n1 > Host: bookstore.toolsqa.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\"userName\":\"erickd\",\"password\":\"Er!ck1835222222\"}\n\n19:44:13.184 response time in milliseconds: 1961\n1 < 201\n1 < Server: nginx\/1.17.10 (Ubuntu)\n1 < Date: Sun, 11 Jan 2026 22:44:13 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 80\n1 < Connection: keep-alive\n1 < X-Powered-By: Express\n1 < ETag: W\/\"50-vqHxt0XofOA4\/PKHgeHNwOt5c3E\"\n{\"userID\":\"5f2d195a-8d07-4a9e-a8db-98ce6a2c6b13\",\"username\":\"erickd\",\"books\":[]}\n\n"},{"result":{"nanos":9637200,"startTime":1768171453200,"endTime":1768171453210,"millis":9.6372,"status":"passed"},"step":{"line":13,"prefix":"Then","index":4,"text":"status 201"}},{"result":{"nanos":2350400,"startTime":1768171453213,"endTime":1768171453215,"millis":2.3504,"status":"passed"},"step":{"line":14,"prefix":"*","index":5,"text":"def userId = response.userID"}},{"result":{"nanos":7352900,"startTime":1768171453216,"endTime":1768171453223,"millis":7.3529,"status":"passed"},"step":{"line":15,"prefix":"*","index":6,"text":"print 'UserId criado:', userId"},"stepLog":"19:44:13.223 [print] UserId criado: 5f2d195a-8d07-4a9e-a8db-98ce6a2c6b13 \n"},{"result":{"nanos":567800,"startTime":1768171453223,"endTime":1768171453224,"millis":0.5678,"status":"passed"},"step":{"comments":["# Gerar token usando o mesmo usuário"],"line":18,"prefix":"Given","index":7,"text":"url baseUrl"}},{"result":{"nanos":631100,"startTime":1768171453224,"endTime":1768171453225,"millis":0.6311,"status":"passed"},"step":{"line":19,"prefix":"And","index":8,"text":"path 'Account\/v1\/GenerateToken'"}},{"result":{"nanos":5201100,"startTime":1768171453225,"endTime":1768171453230,"millis":5.2011,"status":"passed"},"step":{"line":20,"prefix":"And","index":9,"text":"request read('classpath:features\/users\/usersData\/create-user.json')"}},{"result":{"nanos":1289745300,"startTime":1768171453228,"endTime":1768171454518,"millis":1289.7453,"status":"passed"},"step":{"line":21,"prefix":"When","index":10,"text":"method post"},"stepLog":"19:44:13.228 request:\n2 > POST https:\/\/bookstore.toolsqa.com\/Account\/v1\/GenerateToken\n2 > cache-control: no-cache\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 50\n2 > Host: bookstore.toolsqa.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/21.0.9)\n2 > Accept-Encoding: gzip,deflate\n{\"userName\":\"erickd\",\"password\":\"Er!ck1835222222\"}\n\n19:44:14.505 response time in milliseconds: 1277\n2 < 200\n2 < Server: nginx\/1.17.10 (Ubuntu)\n2 < Date: Sun, 11 Jan 2026 22:44:14 GMT\n2 < Content-Type: application\/json; charset=utf-8\n2 < Content-Length: 280\n2 < Connection: keep-alive\n2 < X-Powered-By: Express\n2 < ETag: W\/\"118-24V8jKLsvZkXX9doQCFP4GutN0w\"\n{\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6ImVyaWNrZCIsInBhc3N3b3JkIjoiRXIhY2sxODM1MjIyMjIyIiwiaWF0IjoxNzY4MTcxNDUzfQ.fx8fjGygWBrJNz9qMZzhmn5mINQAOUMIgUJMoyPR1Lk\",\"expires\":\"2026-01-18T22:44:13.751Z\",\"status\":\"Success\",\"result\":\"User authorized successfully.\"}\n\n"},{"result":{"nanos":19000,"startTime":1768171454505,"endTime":1768171454505,"millis":0.019,"status":"passed"},"step":{"line":22,"prefix":"Then","index":11,"text":"status 200"}},{"result":{"nanos":1929300,"startTime":1768171454505,"endTime":1768171454507,"millis":1.9293,"status":"passed"},"step":{"line":23,"prefix":"*","index":12,"text":"def token = response.token"}},{"result":{"nanos":2567500,"startTime":1768171454521,"endTime":1768171454524,"millis":2.5675,"status":"passed"},"step":{"line":24,"prefix":"*","index":13,"text":"print 'Token gerado:', token"},"stepLog":"19:44:14.521 [print] Token gerado: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyTmFtZSI6ImVyaWNrZCIsInBhc3N3b3JkIjoiRXIhY2sxODM1MjIyMjIyIiwiaWF0IjoxNzY4MTcxNDUzfQ.fx8fjGygWBrJNz9qMZzhmn5mINQAOUMIgUJMoyPR1Lk \n"},{"result":{"nanos":798500,"startTime":1768171454521,"endTime":1768171454522,"millis":0.7985,"status":"passed"},"step":{"comments":["# Retornar ambos como objeto para callonce"],"line":27,"prefix":"*","index":14,"text":"def result = { userId: userId, token: token }"}},{"result":{"nanos":7152100,"startTime":1768171454521,"endTime":1768171454528,"millis":7.1521,"status":"passed"},"step":{"line":28,"prefix":"*","index":15,"text":"karate.set('result', result)"}}],"executorName":"pool-2-thread-1","line":6,"name":"Create user and generate token","description":"","durationMillis":4003.1027,"startTime":1768171450528,"failed":false,"refId":"[1:6]","endTime":1768171454521,"exampleIndex":-1}],"callDepth":1,"name":"Generate user and token","description":"","resultDate":"2026-01-11 07:44:14 PM","durationMillis":4003.1027,"passedCount":1}]},{"result":{"nanos":1942000,"startTime":1768171454537,"endTime":1768171454539,"millis":1.942,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def token = auth.result.token"}},{"result":{"nanos":1872900,"startTime":1768171454537,"endTime":1768171454539,"millis":1.8729,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def userId = auth.result.userId"}},{"result":{"nanos":1925000,"startTime":1768171454537,"endTime":1768171454539,"millis":1.925,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"print 'Token:', token"},"stepLog":"19:44:14.537 [print] Token: token \n"},{"result":{"nanos":2147700,"startTime":1768171454537,"endTime":1768171454539,"millis":2.1477,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"print 'UserId:', userId"},"stepLog":"19:44:14.537 [print] UserId: userId \n"},{"result":{"nanos":1281300,"startTime":1768171454537,"endTime":1768171454538,"millis":1.2813,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def basePath = 'Bookstore\/v1'"}},{"result":{"nanos":37349400,"startTime":1768171454537,"endTime":1768171454574,"millis":37.3494,"status":"passed"},"step":{"line":16,"prefix":"Given","index":1,"text":"path basePath + endpoint"}},{"result":{"nanos":2486200,"startTime":1768171454584,"endTime":1768171454586,"millis":2.4862,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":72069600,"errorMessage":"js failed:\n>>>>\n01: if (fileName)\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:13 Expected ; but found eof\r\nif (fileName)\r\n             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:377)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nclasspath:features\/books\/books.feature:18","startTime":1768171454584,"endTime":1768171454656,"millis":72.0696,"status":"failed"},"step":{"line":18,"prefix":"*","index":3,"text":"if (fileName)"},"stepLog":"19:44:14.659 classpath:features\/books\/books.feature:18\n* if (fileName)\njs failed:\n>>>>\n01: if (fileName)\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:13 Expected ; but found eof\r\nif (fileName)\r\n             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:377)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nclasspath:features\/books\/books.feature:18\n"},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"*","index":4,"text":"def bodyFile = read('classpath:features\/books\/booksData\/' + fileName)"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"*","index":5,"text":"else"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"*","index":6,"text":"def bodyFile = {}"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"*","index":7,"text":"if(bodyFile.userID == null) bodyFile.userID = userId"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"And","index":8,"text":"request bodyFile"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"When","index":9,"text":"method requestMethod"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"Then","index":10,"text":"status statusExpected"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"*","index":11,"text":"print 'Response:', response"}}],"line":30,"description":"","durationMillis":4164.1224,"failed":true,"error":"js failed:\n>>>>\n01: if (fileName)\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:13 Expected ; but found eof\r\nif (fileName)\r\n             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:377)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nclasspath:features\/books\/books.feature:18","tags":["smoke"],"executorName":"pool-2-thread-1","name":"List books success","startTime":1768171450054,"refId":"[1.1:30]","endTime":1768171454659,"exampleData":{"scenario":"List books success","endpoint":"'\/Books'","fileName":"null","requestMethod":"get","statusExpected":"200","responseMessage":"\"Lista de livros carregada\""},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":3852500,"startTime":1768171450487,"endTime":1768171450491,"millis":3.8525,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'https:\/\/bookstore.toolsqa.com'"},"stepLog":"19:44:10.188 karate.env system property was: null \n19:44:10.431 karate.env system property was: qa \n"},{"result":{"nanos":3687400,"startTime":1768171450497,"endTime":1768171450501,"millis":3.6874,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":1,"text":"url baseUrl"}},{"result":{"nanos":4035685800,"startTime":1768171450501,"endTime":1768171454537,"millis":4035.6858,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def auth = callonce read('classpath:features\/users\/generate-token.feature')"},"stepLog":"19:44:14.521 this thread waited 4010 milliseconds for callonce lock: read('classpath:features\/users\/generate-token.feature')\n"},{"result":{"nanos":12578000,"startTime":1768171454537,"endTime":1768171454550,"millis":12.578,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def token = auth.result.token"}},{"result":{"nanos":3640600,"startTime":1768171454537,"endTime":1768171454541,"millis":3.6406,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def userId = auth.result.userId"}},{"result":{"nanos":3374800,"startTime":1768171454552,"endTime":1768171454555,"millis":3.3748,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"print 'Token:', token"},"stepLog":"19:44:14.552 [print] Token: token \n"},{"result":{"nanos":2733400,"startTime":1768171454552,"endTime":1768171454555,"millis":2.7334,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"print 'UserId:', userId"},"stepLog":"19:44:14.552 [print] UserId: userId \n"},{"result":{"nanos":1882500,"startTime":1768171454552,"endTime":1768171454554,"millis":1.8825,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def basePath = 'Bookstore\/v1'"}},{"result":{"nanos":21719700,"startTime":1768171454552,"endTime":1768171454574,"millis":21.7197,"status":"passed"},"step":{"line":16,"prefix":"Given","index":1,"text":"path basePath + endpoint"}},{"result":{"nanos":1689600,"startTime":1768171454584,"endTime":1768171454586,"millis":1.6896,"status":"passed"},"step":{"line":17,"prefix":"And","index":2,"text":"header Authorization = 'Bearer ' + token"}},{"result":{"nanos":73970500,"errorMessage":"js failed:\n>>>>\n01: if (fileName)\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:13 Expected ; but found eof\r\nif (fileName)\r\n             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:377)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nclasspath:features\/books\/books.feature:18","startTime":1768171454584,"endTime":1768171454658,"millis":73.9705,"status":"failed"},"step":{"line":18,"prefix":"*","index":3,"text":"if (fileName)"},"stepLog":"19:44:14.659 classpath:features\/books\/books.feature:18\n* if (fileName)\njs failed:\n>>>>\n01: if (fileName)\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:13 Expected ; but found eof\r\nif (fileName)\r\n             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:377)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nclasspath:features\/books\/books.feature:18\n"},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"*","index":4,"text":"def bodyFile = read('classpath:features\/books\/booksData\/' + fileName)"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"*","index":5,"text":"else"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"*","index":6,"text":"def bodyFile = {}"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"*","index":7,"text":"if(bodyFile.userID == null) bodyFile.userID = userId"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"And","index":8,"text":"request bodyFile"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"When","index":9,"text":"method requestMethod"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"Then","index":10,"text":"status statusExpected"}},{"result":{"nanos":0,"startTime":1768171454659,"endTime":1768171454659,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"*","index":11,"text":"print 'Response:', response"}}],"line":31,"description":"","durationMillis":4164.8148,"failed":true,"error":"js failed:\n>>>>\n01: if (fileName)\n<<<<\norg.graalvm.polyglot.PolyglotException: SyntaxError: Unnamed:1:13 Expected ; but found eof\r\nif (fileName)\r\n             ^\n\n- org.graalvm.polyglot.Context.eval(Context.java:428)\n- com.intuit.karate.graal.JsEngine.evalForValue(JsEngine.java:169)\n- com.intuit.karate.graal.JsEngine.eval(JsEngine.java:165)\n- com.intuit.karate.core.ScenarioEngine.evalJs(ScenarioEngine.java:1252)\n- com.intuit.karate.ScenarioActions.evalIf(ScenarioActions.java:377)\n- java.base\/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n- java.base\/java.lang.reflect.Method.invoke(Method.java:580)\n\nclasspath:features\/books\/books.feature:18","tags":["smoke"],"executorName":"pool-2-thread-2","name":"Create book","startTime":1768171450042,"refId":"[1.2:31]","endTime":1768171454659,"exampleData":{"scenario":"Create book","endpoint":"'\/Books'","fileName":"'create-books.json'","requestMethod":"post","statusExpected":"201","responseMessage":"\"Livro criado com sucesso\""},"exampleIndex":1}],"callDepth":0,"name":"Books","description":"","resultDate":"2026-01-11 07:44:14 PM","durationMillis":8328.9372,"passedCount":0}